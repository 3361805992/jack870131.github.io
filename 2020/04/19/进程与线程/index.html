<!DOCTYPE HTML>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
	<link rel="bookmark" type="image/x-icon" href="/img/me.jpg">
	<link rel="shortcut icon" href="/img/me.jpg">
	
			    <title>
    Jack's Blog
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="/css/mic_main.css">
    <link rel="stylesheet" href="/css/dropdownMenu.css">
    <meta name="keywords" content="java, computer science, programming">
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css">
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script async type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
<link rel="stylesheet" href="/css/prism-okaidia.css" type="text/css"></head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_okaidia.css">
<link rel="stylesheet" href="/css/typo.css">
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">JACK</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special">
            <ul class="menu links">
			<!-- Homepage  主页  --> 
			<li>
	            <a href="/" rel="nofollow">Home</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            	<a href="#s1">Category</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/Algorithms/">Algorithms</a></li><li><a class="category-link" href="/categories/IoTDB/">IoTDB</a></li><li><a class="category-link" href="/categories/LeetCode/">LeetCode</a></li><li><a class="category-link" href="/categories/Operating-System/">Operating System</a></li><li><a class="category-link" href="/categories/Other/">Other</a>
	                    </li></ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/tag/" title="Tag">
		                Tag
		            </a>
		        </li>
		        
		        <li>
		            <a href="/about/" title="About">
		                About
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
					<li class="translate-style">
						<a id="translateButtonObject" href="javascript:translatePage();">繁&#8644;简</a>
					</li>
                    
                    <li>
                        <a title="github" href="https://github.com/jack870131" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a title="linkedin" href="https://www.linkedin.com/in/tsung-han-jack-tsai-62696314b" target="_blank" rel="noopener">
                            <i class="icon fa fa-linkedin"></i>
                        </a>
                    </li>
                    
			</ul>
			<script type="text/javascript" src="/js/tw_cn.js"></script>
			<script type="text/javascript">
				var defaultEncoding = 2; //網站編寫字體是否繁體，1-繁體，2-簡體
				var translateDelay = 0; //延遲時間,若不在前, 要設定延遲翻譯時間, 如100表示100ms,默認為0
				var cookieDomain = "https://jack870131.github.io/"; //Cookie地址, 一定要設定, 通常為你的網址
				var translateButtonId = "translateLink"; //默認互換id
				translateInitilization();
			</script>
</nav>

        <div id="main">
            <div class="post_page_title_img" style="height: 25rem;background-image: url(https://i.imgur.com/YFDq3rc.png);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;">
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2>进程与线程</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <h1 id="进程与线程"><a href="#进程与线程" class="headerlink" title="进程与线程"></a>进程与线程</h1><p><img src="https://i.imgur.com/Dm3Nj07.png" alt="Mind Map"></p>
<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><h3 id="进程模型"><a href="#进程模型" class="headerlink" title="进程模型"></a>进程模型</h3><p><strong>进程切换</strong></p>
<ul>
<li>单个 CPU 可以被若干进程共享</li>
<li>单个 CPU 一次只能运行一个进程</li>
</ul>
<p><strong>进程与程序区别</strong></p>
<ul>
<li>程序(适当形式描述的算法): 食谱 </li>
<li>CPU 处理器: 厨师</li>
<li>输入数据: 食材</li>
<li>进程: 厨师阅读食谱，取食材以及烘焙等动作的总和</li>
</ul>
<p><strong>进程调度</strong></p>
<ol>
<li>保存当前进程状态</li>
<li>切换到高优先级进程(每个进程拥有各自程序)</li>
<li>切换回原本进程(从原本进度开始执行)</li>
</ol>
<p><strong>进程的层次结构</strong></p>
<p>进程只有一个父进程(但可以有零或多个子进程)</p>
<h3 id="进程的创建"><a href="#进程的创建" class="headerlink" title="进程的创建"></a>进程的创建</h3><p><strong>导致进程创建</strong></p>
<ol>
<li><p>系统初始化</p>
</li>
<li><p>正在运行的程序执行创建进程的系统调用</p>
</li>
<li><p>用户请求创建一个新进程</p>
</li>
<li><p>一个批处理作业的初始化</p>
</li>
</ol>
<p><strong>守护进程</strong></p>
<p>后台处里程序</p>
<h3 id="进程的终止"><a href="#进程的终止" class="headerlink" title="进程的终止"></a>进程的终止</h3><p><strong>导致进程终止</strong></p>
<ul>
<li>正常退出(自愿)</li>
<li>出错退出(自愿)</li>
<li>严重错误(非自愿)</li>
<li>被其他进程杀死(非自愿)</li>
</ul>
<h3 id="进程的状态"><a href="#进程的状态" class="headerlink" title="进程的状态"></a>进程的状态</h3><p><strong>三种状态</strong></p>
<ul>
<li>运行态: 进程实际占用 CPU</li>
<li>就绪态: 可运行，但因位其他进程正在运行而战时终止</li>
<li>阻塞态: 除非某外部事件发生，否则进程不能运行</li>
</ul>
<p><strong>状态切换</strong></p>
<ul>
<li>运行 -&gt; 阻塞: 进程因为等待输入而被阻塞</li>
<li>运行 -&gt; 就绪: 调度程序选择另一进程</li>
<li>就绪 -&gt; 运行: 调度程序选择该进程</li>
<li>阻塞 -&gt; 就绪: 出现有效输入</li>
</ul>
<h3 id="进程的实现"><a href="#进程的实现" class="headerlink" title="进程的实现"></a>进程的实现</h3><p><strong>进程表</strong></p>
<p>保存进程状态的重要信息以及状态转换时需要保存的信息</p>
<p><strong>中断</strong></p>
<ol>
<li><p>硬件压入堆栈程序计数器等</p>
</li>
<li><p>硬件从中断向量装入新的程序技术器</p>
</li>
<li><p>汇编语言过程保存寄存器值</p>
</li>
<li><p>汇编语言过程设置新的堆栈</p>
</li>
<li><p>C中断服务例程运行</p>
</li>
<li><p>调度程序决定下一个将运行的进程</p>
</li>
<li><p>C过程返回至汇编代码</p>
</li>
<li><p>汇编语言过程开始运行新的当前进程</p>
</li>
</ol>
<h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><h3 id="线程模型"><a href="#线程模型" class="headerlink" title="线程模型"></a>线程模型</h3><p><strong>进程与线程</strong></p>
<ul>
<li>进程: 把资源集中到一起</li>
<li>线程: CPU 上被调度执行的实体</li>
<li>一个进程环境中允许多个线程执行(轮流运行)，共享相同地址空间</li>
</ul>
<p><strong>线程之间没有保护</strong></p>
<ul>
<li><p>线程可以对彼此进行读写</p>
</li>
<li><p>线程有各自的堆栈</p>
</li>
</ul>
<p><strong>线程表</strong></p>
<ul>
<li>程序计数器</li>
<li>寄存器</li>
<li>堆栈</li>
<li>状态</li>
</ul>
<p><strong>线程状态</strong></p>
<ul>
<li>运行: 拥有 CPU 并且是活跃的</li>
<li>阻塞: 等待某个释放它的事件</li>
<li>就绪: 可以被调度执行</li>
<li>终止: 不可被调度执行</li>
</ul>
<h2 id="进程间通信"><a href="#进程间通信" class="headerlink" title="进程间通信"></a>进程间通信</h2><p><strong>竞争条件</strong></p>
<ul>
<li>两个或多个进程读写某些共享数据</li>
</ul>
<p><strong>临界区</strong></p>
<ul>
<li><p>对共享内存进行访问的程序片段</p>
</li>
<li><p>互斥</p>
<ul>
<li>确保当一个进程在使用一个共享变量或文件时，其他进程不能做同样的操作</li>
</ul>
</li>
<li><p>避免竞争条件</p>
<ul>
<li>任何两个进程不能同时处于其临界区</li>
<li>不硬对 CPU 的速度和数量作任何假设</li>
<li>临界区外运行的进程不得阻塞其他进程</li>
<li>不得使进程无限期等待进入临界区</li>
</ul>
</li>
</ul>
<p><strong>实现互斥</strong></p>
<ul>
<li><p>屏蔽中断: 每个进程在进入临界区后立即屏蔽所有中断，并在要离开之前再打开中断</p>
</li>
<li><p>锁变量: 根据锁的值判断临界区是否有进程</p>
</li>
<li><p>严格轮换法</p>
<ul>
<li><p>忙等待</p>
<ul>
<li>进程连续测试一个变量直到某个值出现为止</li>
<li>浪费 CPU 时间</li>
<li>自旋锁: 用于忙等待的锁</li>
</ul>
</li>
</ul>
</li>
<li><p>Peterson 解法</p>
</li>
<li><p>TSL 指令</p>
</li>
</ul>
<h3 id="睡眠与唤醒"><a href="#睡眠与唤醒" class="headerlink" title="睡眠与唤醒"></a>睡眠与唤醒</h3><p><strong>生产者 - 消费者问题</strong></p>
<p>多个进程共享一个公共的固定大小的换冲区，当缓冲区已满，生产者或消费者还想继续操作时，即进入睡面状态，等待缓冲区出现空间并被唤醒</p>
<p><strong>信号量</strong></p>
<ul>
<li><p>它允许同一时刻多个线程访问同一资源，但是需要控制同一时刻访问此资源的最大线程数量。</p>
</li>
<li><p>累计唤醒次数</p>
<ul>
<li>等于0: 表示没有保存下来的唤醒操作</li>
<li>大于0: 表示有一个或多个唤醒操作</li>
</ul>
</li>
</ul>
<p><strong>互斥量</strong></p>
<ul>
<li><p>采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问</p>
</li>
<li><p>处于两态之一的变量</p>
<ul>
<li>解锁</li>
<li>加锁</li>
</ul>
</li>
</ul>
<h2 id="调度"><a href="#调度" class="headerlink" title="调度"></a>调度</h2><p><strong>进程行为</strong></p>
<ul>
<li><p>计算密集型进程: 较长时间的 CPU 集中使用和较小频度的 I/O 等待</p>
</li>
<li><p>I/O 密集型进程: I/O 密集型进程具有较短时间的 CPU 集中使用和频繁的 I/O 等待</p>
</li>
</ul>
<p><strong>何时调度</strong></p>
<ul>
<li><p>在创建一个新进程之后，需要决定是运行父进程还是子进程</p>
</li>
<li><p>在一个进程退出时必须做出调度决策</p>
</li>
<li><p>当一个进程阻塞在 I/O 和信号量上或由于其它原因阻塞时，必须选择另一个进程运行</p>
</li>
<li><p>在一个 I/O 中断发生时，必须做出调度决策</p>
</li>
<li><p>处里时间中断</p>
<ul>
<li><p>非抢占式: 挑选一个进程，然后让进程运行直至被阻塞或释放 CPU</p>
</li>
<li><p>抢占式: 挑选一个进程，并且让该进程运行某个固定时段的最大值，如果该时段结束时，该进程仍在运行，他就被挂起，而调度程序挑选另一个进程运行</p>
</li>
</ul>
</li>
</ul>
<h3 id="调度算法分类"><a href="#调度算法分类" class="headerlink" title="调度算法分类"></a>调度算法分类</h3><p><strong>批处理</strong></p>
<p>非抢占式算法 or 长时间周期的抢占式算法多</p>
<p><strong>交互式</strong></p>
<p>抢占式算法多</p>
<p><strong>实时</strong></p>
<p>非抢占式算法多</p>
<h3 id="调度算法目标"><a href="#调度算法目标" class="headerlink" title="调度算法目标"></a>调度算法目标</h3><p><strong>所有系统</strong></p>
<ul>
<li>公平</li>
<li>策略强制执行</li>
<li>平衡</li>
</ul>
<p><strong>批处理系统</strong></p>
<ul>
<li>吞吐量</li>
<li>周转时间</li>
<li>CPU 利用率</li>
</ul>
<p><strong>交互式系统</strong></p>
<ul>
<li>响应时间</li>
<li>均衡性</li>
</ul>
<p><strong>实时系统</strong></p>
<ul>
<li>满足截止时间</li>
<li>可预测性</li>
</ul>

            </div>
        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li><br>
                All content copyright Tsung Han Tsai © 2018 • All rights reserved
            </ul>
        </div>
    </div>
</body>

 	
</html>
